<script>
    function bx_mobile_apps_show_main_menu () {
        if ($('.cd-side-nav').size())
            $([$('.cd-side-nav'), $('.cd-nav-trigger')]).toggleClass('nav-is-visible');
        else
            bx_menu_slide_inline('#bx-sliding-menu-sys_site', null, 'site');
    }

    function bx_mobile_apps_show_profile_menu () {
        bx_menu_slide_inline('#bx-sliding-menu-account', null, 'site');
    }

    function bx_mobile_apps_show_add_menu () {
        bx_menu_slide_inline('#bx-sliding-menu-sys_add_content', null, 'site');
    }

    function bx_mobile_apps_home () {
        if (window.history.length > 1)
            window.history.go(-(window.history.length - 1));
    }

    function bx_mobile_apps_close_sliding_menus () {
        if ($('.bx-sliding-menu-main:visible').size()) // hide sliding menu if they are open
            bx_menu_slide_inline('.bx-sliding-menu-main');
    }

    var sMsg = JSON.stringify(__msg__);
    if ('undefined' !== typeof(window.ReactNativeWebView))
        window.ReactNativeWebView.postMessage(sMsg);
    else
        window.postMessage(sMsg, '*');

    $(document).ready(function () {
        PullToRefresh.init({
            instructionsPullToRefresh: '__txt_pull_to_refresh__',
            instructionsReleaseToRefresh: '__txt_release_to_refresh__',
            instructionsRefreshing: '__txt_refreshing__',
            onRefresh() {
                window.location.reload();
            },
        });
    });
</script>
